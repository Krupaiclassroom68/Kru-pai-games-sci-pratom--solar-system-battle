<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Science Battle ‚Äî Solar System Edition (40 ‡∏Ç‡πâ‡∏≠)</title>
<style>
  :root{
    --bg:#f0f7ff;
    --card:#ffffff;
    --ink:#0f172a;
    --muted:#64748b;
    --brand:#2563eb;
    --accent:#60a5fa;
    --ok:#16a34a;
    --bad:#ef4444;
    --shadow:0 10px 30px rgba(0,0,0,.08);
    --radius:22px;
  }
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,var(--bg),#fff);color:var(--ink);font-family:Prompt,Inter,system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
  .wrap{max-width:1000px;margin:0 auto;padding:24px}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:16px}
  .logo{display:flex;align-items:center;gap:10px;font-weight:900;font-size:20px}
  .badge{font-size:14px;color:#fff;background:var(--brand);padding:6px 12px;border-radius:999px;box-shadow:var(--shadow)}
  .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:22px}
  .center{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:18px}
  .title{font-size:clamp(32px,5vw,48px);font-weight:900}
  .subtitle{color:var(--muted);font-size:18px}
  input{padding:12px 14px;border:1.5px solid #c7d2fe;border-radius:12px;font-size:18px}
  .row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
  button{appearance:none;border:0;border-radius:16px;padding:16px 22px;font-weight:800;cursor:pointer;box-shadow:var(--shadow);font-size:18px}
  .btn-primary{background:var(--brand);color:#fff}
  .btn-ghost{background:#fff;color:var(--brand);border:2px solid var(--brand)}
  .hud{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-bottom:14px}
  .pill{background:#eaf1ff;border:1px solid #c7d2fe;color:#1e3a8a;padding:8px 14px;border-radius:999px;font-weight:800}
  .score{background:#eaf7ff;border-color:#bae6fd;color:#0c4a6e}
  .clockwrap{display:flex;align-items:center;gap:10px}
  .clock{position:relative;width:64px;height:64px}
  .clock svg{transform:rotate(-90deg)}
  .clock .ring{stroke:#dbeafe;stroke-width:8;fill:none}
  .clock .bar{stroke:var(--accent);stroke-width:8;stroke-linecap:round;fill:none;transition:stroke-dashoffset .1s linear}
  .clock .num{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-weight:900;color:#1d4ed8;font-size:20px}
  .q{font-size:26px;font-weight:900;margin:10px 0 12px;text-align:center}
  .options{display:grid;grid-template-columns:1fr;gap:12px}
  @media(min-width:720px){.options{grid-template-columns:1fr 1fr}}
  .opt{position:relative;border:2.5px solid #c7d2fe;background:#fff;border-radius:18px;padding:18px 16px;text-align:center;font-size:22px;font-weight:900;cursor:pointer}
  .opt:hover{filter:brightness(1.02)}
  .opt.disabled{pointer-events:none;opacity:.9}
  .opt.correct{border-color:var(--ok);background:#ecfdf5}
  .opt.wrong{border-color:var(--bad);background:#fef2f2}
  .fb{margin-top:6px;font-size:16px;font-weight:900}
  .ok{color:var(--ok)}
  .bad{color:var(--bad)}
  .big-score{font-size:clamp(34px,6vw,56px);font-weight:900}
  .trophy{font-size:42px;line-height:1}
  .stat{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
  .board{margin-top:14px;display:grid;grid-template-columns:1fr;gap:10px}
  .mini{background:#fff;border:1px solid #c7d2fe;border-radius:16px;padding:12px;text-align:center}
  .mini b{display:block;margin-bottom:4px}
  .mini .date{font-size:12px;color:#9ca3af}
  .wm{position:fixed;inset:auto 12px 12px auto;background:#1e3a8a;color:#fff;padding:6px 12px;border-radius:999px;font-size:12px;opacity:.9;box-shadow:var(--shadow);z-index:40}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">üöÄüåû <span style="font-weight:900">Kru Pai Classroom</span></div>
      <span class="badge">Science Battle ‚Äî Solar System</span>
    </header>

    <section id="screen-start" class="card center">
      <div class="title" style="color:var(--brand)">Solar System Battle ‚ö°</div>
      <div class="subtitle">‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‚Ä¢ ‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå ‚Ä¢ ‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‚Äî <b>40 ‡∏Ç‡πâ‡∏≠</b> | ‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 5 ‡∏ß‡∏¥/‡∏Ç‡πâ‡∏≠ | ‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö | ‡∏ß‡∏¥‡πà‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</div>
      <div class="row">
        <input id="player" type="text" placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)" />
        <button class="btn-primary" onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ</button>
      </div>

      <div class="board" id="scoreBoard">
        <div class="mini" id="sbSolar"><b>Solar System Battle</b><div>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡πà‡∏ô</div></div>
      </div>
    </section>

    <section id="screen-game" class="card" style="display:none">
      <div class="hud">
        <div class="left" style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
          <span id="progress" class="pill">‡∏Ç‡πâ‡∏≠ 1/40</span>
          <span id="scorePill" class="pill score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô 0</span>
          <span id="playerNameHUD" class="pill"></span>
        </div>
        <div class="right clockwrap">
          <div class="clock" aria-label="‡∏ï‡∏±‡∏ß‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤">
            <svg width="64" height="64" viewBox="0 0 64 64">
              <circle class="ring" cx="32" cy="32" r="27" />
              <circle id="bar" class="bar" cx="32" cy="32" r="27" stroke-dasharray="169.6" stroke-dashoffset="0" />
            </svg>
            <div id="num" class="num">5</div>
          </div>
        </div>
      </div>
      <div id="question" class="q">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</div>
      <div class="options">
        <button id="optA" class="opt" onclick="choose('A')"></button>
        <button id="optB" class="opt" onclick="choose('B')"></button>
      </div>
    </section>

    <section id="screen-end" class="card center" style="display:none">
      <div class="title" style="color:var(--brand)">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ</div>
      <div id="finalName" class="subtitle"></div>
      <div id="finalScore" class="big-score"></div>
      <div id="finalMedal" class="trophy"></div>
      <div class="stat">
        <span id="statPercent" class="pill"></span>
        <span id="statRemark" class="pill"></span>
      </div>
      <div class="row">
        <button class="btn-primary" onclick="restart()">‡∏•‡∏∏‡∏¢‡∏ã‡πâ‡∏≥</button>
        <button class="btn-ghost" onclick="toStart()">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
      </div>
    </section>
  </div>

  <div class="wm">Kru Pai Classroom</div>

<script>
// =============== ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° Solar System (40 ‡∏Ç‡πâ‡∏≠) ===============
const SOLAR = [
  { q:"‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô‡πÄ‡∏î‡πà‡∏ô‡∏ä‡∏±‡∏î‡∏Ñ‡∏∑‡∏≠", A:"‡πÄ‡∏™‡∏≤‡∏£‡πå", B:"‡∏û‡∏∏‡∏ò", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î", A:"‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ", B:"‡πÄ‡∏™‡∏≤‡∏£‡πå", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏Ñ‡∏∑‡∏≠", A:"‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£", B:"‡∏®‡∏∏‡∏Å‡∏£‡πå", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏û‡∏∑‡πâ‡∏ô‡∏ú‡∏¥‡∏ß)", A:"‡∏®‡∏∏‡∏Å‡∏£‡πå", B:"‡∏û‡∏∏‡∏ò", correct:"A" },
  { q:"‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‚Äì‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å", A:"‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å", B:"‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏à‡∏£‡∏£‡∏≠‡∏ö‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", correct:"A" },
  { q:"‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å", A:"‡πÅ‡∏Å‡∏ô‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏à‡∏£‡∏£‡∏≠‡∏ö‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", B:"‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÇ‡∏Ñ‡∏à‡∏£‡∏£‡∏≠‡∏ö‡πÇ‡∏•‡∏Å", correct:"A" },
  { q:"‡∏™‡∏∏‡∏£‡∏¥‡∏¢‡∏∏‡∏õ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡∏∑‡∏≠", A:"‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏ö‡∏±‡∏á‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", B:"‡πÇ‡∏•‡∏Å‡∏ö‡∏±‡∏á‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå", correct:"A" },
  { q:"‡∏à‡∏±‡∏ô‡∏ó‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡∏∑‡∏≠", A:"‡πÇ‡∏•‡∏Å‡∏ö‡∏±‡∏á‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå", B:"‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏ö‡∏±‡∏á‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", correct:"A" },
  { q:"‡∏ô‡πâ‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô‚Äì‡∏ô‡πâ‡∏≥‡∏•‡∏á‡∏´‡∏•‡∏±‡∏Å ‡πÜ ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡πÅ‡∏£‡∏á‡πÇ‡∏ô‡πâ‡∏°‡∏ñ‡πà‡∏ß‡∏á‡∏Ç‡∏≠‡∏á", A:"‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå", B:"‡∏î‡∏≤‡∏ß‡∏û‡∏∏‡∏ò", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î", A:"‡∏û‡∏∏‡∏ò", B:"‡∏®‡∏∏‡∏Å‡∏£‡πå", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏Å‡∏•‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î", A:"‡πÄ‡∏ô‡∏õ‡∏à‡∏π‡∏ô", B:"‡∏¢‡∏π‡πÄ‡∏£‡∏ô‡∏±‡∏™", correct:"A" },
  { q:"‡∏ß‡∏±‡∏ô‡∏¢‡∏≤‡∏ß‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏µ‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠‡∏î‡∏≤‡∏ß", A:"‡∏®‡∏∏‡∏Å‡∏£‡πå", B:"‡∏û‡∏∏‡∏ò", correct:"A" },
  { q:"‡πÅ‡∏Å‡∏ô‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î", A:"‡∏¢‡∏π‡πÄ‡∏£‡∏ô‡∏±‡∏™", B:"‡πÄ‡∏ô‡∏õ‡∏à‡∏π‡∏ô", correct:"A" },
  { q:"‡∏û‡∏≤‡∏¢‡∏∏‡∏à‡∏∏‡∏î‡πÅ‡∏î‡∏á‡πÉ‡∏´‡∏ç‡πà‡∏û‡∏ö‡∏ó‡∏µ‡πà", A:"‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ", B:"‡πÄ‡∏™‡∏≤‡∏£‡πå", correct:"A" },
  { q:"‡πÇ‡∏•‡∏Å‡∏°‡∏µ‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏à‡∏≥‡∏ô‡∏ß‡∏ô", A:"1 ‡∏î‡∏ß‡∏á", B:"2 ‡∏î‡∏ß‡∏á", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ä‡∏±‡πâ‡∏ô‡∏´‡∏¥‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì", A:"‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏ô‡πÉ‡∏Å‡∏•‡πâ‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", B:"‡∏î‡πâ‡∏≤‡∏ô‡∏ô‡∏≠‡∏Å‡πÑ‡∏Å‡∏•‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", correct:"A" },
  { q:"‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏≠‡∏≠‡πÇ‡∏£‡∏£‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö", A:"‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡∏à‡∏≤‡∏Å‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏ä‡∏ô‡∏ä‡∏±‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®", B:"‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á‡πÉ‡∏ô‡πÄ‡∏°‡∏Ü‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡πÅ‡∏™‡∏á", correct:"A" },
  { q:"‡∏´‡∏≤‡∏á‡∏î‡∏≤‡∏ß‡∏´‡∏≤‡∏á‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡πÉ‡∏î", A:"‡∏≠‡∏≠‡∏Å‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", B:"‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", correct:"A" },
  { q:"‡∏ô‡πâ‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å (spring tide) ‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠", A:"‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‚Äì‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‚Äì‡πÇ‡∏•‡∏Å‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏ô‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô", B:"‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏ï‡∏±‡πâ‡∏á‡∏â‡∏≤‡∏Å‡∏Å‡∏±‡∏ö‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡∏û‡∏∏‡∏ò‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡∏£‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô‡∏´‡∏ô‡∏≤‡∏ß‡∏à‡∏±‡∏î‡πÄ‡∏û‡∏£‡∏≤‡∏∞", A:"‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®‡∏ö‡∏≤‡∏á‡∏°‡∏≤‡∏Å", B:"‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏Å‡∏•‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", correct:"A" },
  { q:"‡∏û‡∏•‡∏π‡πÇ‡∏ï‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô", A:"‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏Ñ‡∏£‡∏∞", B:"‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå", correct:"A" },
  { q:"‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å", A:"‡∏ô‡∏¥‡∏ß‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏ü‡∏¥‡∏ß‡∏ä‡∏±‡∏ô", B:"‡∏ô‡∏¥‡∏ß‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏ü‡∏¥‡∏ä‡∏ä‡∏±‡∏ô", correct:"A" },
  { q:"‡πÅ‡∏™‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏ñ‡∏∂‡∏á‡πÇ‡∏•‡∏Å‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì", A:"‡∏£‡∏≤‡∏ß 8 ‡∏ô‡∏≤‡∏ó‡∏µ", B:"‡∏£‡∏≤‡∏ß 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ", correct:"A" },
  { q:"‡∏ß‡∏¥‡∏ñ‡∏µ‡πÇ‡∏Ñ‡∏à‡∏£‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á", A:"‡∏ß‡∏á‡∏£‡∏µ", B:"‡∏ß‡∏á‡∏Å‡∏•‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå", correct:"A" },
  { q:"‡∏à‡∏±‡∏ô‡∏ó‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏Å‡∏¥‡∏î‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á", A:"‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ (‡πÄ‡∏ï‡πá‡∏°‡∏î‡∏ß‡∏á)", B:"‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥", correct:"A" },
  { q:"‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‚Äì‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å", A:"‡πÅ‡∏™‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏à‡∏≤‡∏Å‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå", B:"‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏™‡∏á‡πÄ‡∏≠‡∏á", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞", A:"‡∏´‡∏°‡∏∏‡∏ô‡∏ä‡πâ‡∏≤‡∏°‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏û‡∏¥‡πÄ‡∏®‡∏©", B:"‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å", correct:"A" },
  { q:"‡πÇ‡∏•‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏Ñ‡∏à‡∏£‡∏£‡∏≠‡∏ö‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì", A:"365 ‡∏ß‡∏±‡∏ô", B:"30 ‡∏ß‡∏±‡∏ô", correct:"A" },
  { q:"‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏Ñ‡∏∑‡∏≠", A:"‡πÑ‡∏Æ‡πÇ‡∏î‡∏£‡πÄ‡∏à‡∏ô", B:"‡∏≠‡∏≠‡∏Å‡∏ã‡∏¥‡πÄ‡∏à‡∏ô", correct:"A" },
  { q:"‡∏†‡∏π‡πÄ‡∏Ç‡∏≤‡πÑ‡∏ü‡πÇ‡∏•‡πà‡∏¢‡∏±‡∏Å‡∏©‡πå Olympus Mons ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô", A:"‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£", B:"‡∏û‡∏∏‡∏ò", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡∏û‡∏∏‡∏ò‡∏°‡∏µ‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®‡∏´‡∏ô‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà", A:"‡πÑ‡∏°‡πà‡∏°‡∏µ/‡∏ö‡∏≤‡∏á‡∏°‡∏≤‡∏Å", B:"‡∏´‡∏ô‡∏≤‡∏°‡∏≤‡∏Å", correct:"A" },
  { q:"‡πÄ‡∏á‡∏≤‡∏°‡∏∑‡∏î‡∏à‡∏≤‡∏Å‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏ï‡∏Å‡∏ö‡∏ô‡πÇ‡∏•‡∏Å‡πÄ‡∏Å‡∏¥‡∏î", A:"‡∏™‡∏∏‡∏£‡∏¥‡∏¢‡∏∏‡∏õ‡∏£‡∏≤‡∏Ñ‡∏≤", B:"‡∏à‡∏±‡∏ô‡∏ó‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏Ñ‡∏≤", correct:"A" },
  { q:"‡πÅ‡∏ñ‡∏ö‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ô‡πâ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á", A:"‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£‚Äì‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ", B:"‡πÇ‡∏•‡∏Å‚Äì‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏µ‡πà‡∏´‡∏°‡∏∏‡∏ô‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å (‡∏ß‡∏±‡∏ô‡∏™‡∏±‡πâ‡∏ô)", A:"‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ", B:"‡∏®‡∏∏‡∏Å‡∏£‡πå", correct:"A" },
  { q:"‡πÅ‡∏Å‡∏ô‡πÇ‡∏•‡∏Å‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì", A:"23.5¬∞", B:"5¬∞", correct:"A" },
  { q:"‡∏û‡∏≤‡∏¢‡∏∏‡∏™‡∏∏‡∏£‡∏¥‡∏¢‡∏∞‡∏≠‡∏≤‡∏à‡∏Å‡∏£‡∏∞‡∏ó‡∏ö", A:"‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£/‡∏î‡∏≤‡∏ß‡πÄ‡∏ó‡∏µ‡∏¢‡∏°", B:"‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏¥‡∏î‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏¥‡∏ô‡πÑ‡∏´‡∏ß‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏£‡πâ‡∏≠‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏û‡∏£‡∏≤‡∏∞", A:"‡∏ä‡∏±‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô‡πÑ‡∏î‡∏≠‡∏≠‡∏Å‡πÑ‡∏ã‡∏î‡πå‡∏´‡∏ô‡∏≤ (‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏Å)", B:"‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡πÄ‡∏ô‡∏õ‡∏à‡∏π‡∏ô‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á", A:"‡∏•‡∏°‡πÅ‡∏£‡∏á‡∏°‡∏≤‡∏Å", B:"‡∏†‡∏π‡πÄ‡∏Ç‡∏≤‡πÑ‡∏ü‡∏¢‡∏±‡∏Å‡∏©‡πå", correct:"A" },
  { q:"‡∏î‡∏≤‡∏ß‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏™‡∏ß‡πà‡∏≤‡∏á‡πÇ‡∏î‡∏î‡πÄ‡∏î‡πà‡∏ô‡∏ö‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ü‡πâ‡∏≤‡πÄ‡∏û‡∏£‡∏≤‡∏∞", A:"‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡πÅ‡∏™‡∏á‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÇ‡∏•‡∏Å", B:"‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÅ‡∏™‡∏á‡πÄ‡∏≠‡∏á", correct:"A" },
  { q:"‡πÄ‡∏£‡∏≤‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Ç‡∏≠‡∏á‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÄ‡∏û‡∏£‡∏≤‡∏∞", A:"‡∏Ñ‡∏≤‡∏ö‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏Ñ‡∏≤‡∏ö‡πÇ‡∏Ñ‡∏à‡∏£", B:"‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á", correct:"A" }
];

// =============== ‡∏ï‡∏±‡∏ß‡πÄ‡∏Å‡∏° ===============
let idx = 0;
let score = 0;
let intervalId = null;
let timeLeft = 5; // ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≠
let CURRENT = SOLAR; // ‡πÉ‡∏ä‡πâ‡∏ä‡∏∏‡∏î Solar
let currentPlayer = "";
const CIRC = 2*Math.PI*27; // r=27

// DOM
const elStart  = document.getElementById('screen-start');
const elGame   = document.getElementById('screen-game');
const elEnd    = document.getElementById('screen-end');
const qEl      = document.getElementById('question');
const optA     = document.getElementById('optA');
const optB     = document.getElementById('optB');
const progress = document.getElementById('progress');
const scorePill= document.getElementById('scorePill');
const numEl    = document.getElementById('num');
const barEl    = document.getElementById('bar');
barEl.setAttribute('stroke-dasharray', CIRC.toFixed(1));

// ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Å‡∏≠‡∏£‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤
window.addEventListener('DOMContentLoaded', loadScoreboard);

function toStart(){
  clearInterval(intervalId);
  elEnd.style.display='none';
  elGame.style.display='none';
  elStart.style.display='flex';
  loadScoreboard();
}

function startGame(){
  idx = 0; score = 0; CURRENT = SOLAR; // ‡πÉ‡∏ä‡πâ‡∏ä‡∏∏‡∏î‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÇ‡∏´‡∏°‡∏î‡∏ô‡∏µ‡πâ
  elStart.style.display='none';
  elEnd.style.display='none';
  elGame.style.display='block';
  currentPlayer = (document.getElementById('player').value||'').trim();
  document.getElementById('playerNameHUD').textContent = currentPlayer ? `üë§ ${currentPlayer}` : '';
  loadQuestion();
}

function restart(){ startGame(); }

function loadQuestion(){
  clearInterval(intervalId);
  timeLeft = 5;
  updateClock(1);

  const item = CURRENT[idx];
  progress.textContent = `‡∏Ç‡πâ‡∏≠ ${idx+1}/${CURRENT.length}`;
  scorePill.textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ${score}`;
  qEl.textContent = item.q;

  const opts = [ {id:'A', text:item.A}, {id:'B', text:item.B} ];
  if(Math.random() < 0.5) opts.reverse();
  optA.className = 'opt';
  optB.className = 'opt';
  optA.innerHTML = `<div>üÖ∞Ô∏è ${escapeHTML(opts[0].text)}</div><div id="fbA" class="fb"></div>`;
  optB.innerHTML = `<div>üÖ±Ô∏è ${escapeHTML(opts[1].text)}</div><div id="fbB" class="fb"></div>`;
  optA.dataset.correct = (opts[0].id === item.correct);
  optB.dataset.correct = (opts[1].id === item.correct);

  intervalId = setInterval(()=>{
    timeLeft -= 0.1;
    if(timeLeft <= 0){ clearInterval(intervalId); handleAnswer(null,true); }
    else { updateClock(timeLeft/5); numEl.textContent = String(Math.ceil(timeLeft)); }
  },100);
}

function updateClock(pct){
  const offset = (1-pct) * CIRC;
  barEl.setAttribute('stroke-dashoffset', offset.toFixed(1));
  numEl.textContent = String(Math.ceil(timeLeft));
}

function choose(letter){ handleAnswer(letter,false); }

function handleAnswer(letter, timeout){
  clearInterval(intervalId);
  const fbA = document.getElementById('fbA');
  const fbB = document.getElementById('fbB');
  optA.classList.add('disabled');
  optB.classList.add('disabled');

  if(timeout){
    if(optA.dataset.correct === 'true'){ optA.classList.add('correct'); fbA.innerHTML = "<span class='bad'>‚è≥ ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤</span>"; }
    else { optB.classList.add('correct'); fbB.innerHTML = "<span class='bad'>‚è≥ ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤</span>"; }
    return setTimeout(nextQuestion, 850);
  }

  let chosen = (letter==='A') ? optA : optB;
  let other  = (letter==='A') ? optB : optA;
  if(chosen.dataset.correct === 'true'){
    chosen.classList.add('correct');
    chosen.innerHTML += "<div class='fb ok'>ü§© ‡∏ß‡πâ‡∏≤‡∏ß‡∏ß‡∏ß‡∏ß ‡∏ñ‡∏π‡∏Å!</div>";
    score++;
  }else{
    chosen.classList.add('wrong');
    chosen.innerHTML += "<div class='fb bad'>üòñ ‡∏ß‡πâ‡∏≤‡∏¢‡∏¢‡∏¢‡∏¢ ‡∏ú‡∏¥‡∏î!</div>";
    other.classList.add('correct');
  }
  scorePill.textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ${score}`;
  setTimeout(nextQuestion, 850);
}

function nextQuestion(){
  idx++;
  if(idx >= CURRENT.length){ finish(); }
  else { loadQuestion(); }
}

function finish(){
  elGame.style.display='none';
  elEnd.style.display='flex';
  const percent = Math.round((score/CURRENT.length)*100);
  document.getElementById('finalName').textContent = currentPlayer ? `‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: ${currentPlayer}` : '';
  document.getElementById('finalScore').textContent = `${score} / ${CURRENT.length}`;

  const medalEl = document.getElementById('finalMedal');
  const remarkEl= document.getElementById('statRemark');
  if(percent === 100){
    medalEl.textContent = 'ü•á ‡πÇ‡∏•‡πà‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥ ‚Äî Perfect!';
    remarkEl.textContent = '‡∏™‡∏∏‡∏î‡∏à‡∏±‡∏î! ‡∏ô‡∏±‡∏Å‡∏ö‡∏¥‡∏ô‡∏≠‡∏ß‡∏Å‡∏≤‡∏®‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á';
  } else if(percent >= 90){
    medalEl.textContent = 'ü•à ‡πÇ‡∏•‡πà‡πÄ‡∏á‡∏¥‡∏ô ‚Äî Elite';
    remarkEl.textContent = '‡πÄ‡∏â‡∏µ‡∏¢‡∏ö‡∏°‡∏≤‡∏Å ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß!';
  } else if(percent >= 80){
    medalEl.textContent = 'ü•â ‡πÇ‡∏•‡πà‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á ‚Äî Pro';
    remarkEl.textContent = '‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡πÑ‡∏õ‡∏ï‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏∏‡∏î';
  } else {
    medalEl.textContent = 'üéØ ‡∏™‡∏π‡πâ‡∏ï‡πà‡∏≠!';
    remarkEl.textContent = '‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏¥‡∏á‡∏î‡∏≤‡∏ß‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà!';
  }
  document.getElementById('statPercent').textContent = `‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô ${percent}%`;

  // ===== ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á Scoreboard (localStorage) =====
  const payload = { player: currentPlayer, raw: score, total: CURRENT.length, percent, date: new Date().toLocaleString('th-TH') };
  try{ localStorage.setItem('sb_solar', JSON.stringify(payload)); }catch(e){}
}

// ===== ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• Scoreboard ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å =====
function loadScoreboard(){
  const el = document.getElementById('sbSolar');
  const data = safeParse(localStorage.getItem('sb_solar'));
  if(data){
    const name = data.player ? ` ‚Äî üë§ ${escapeHTML(data.player)}` : '';
    el.innerHTML = `<b>Solar System Battle</b><div>${data.raw}/${data.total} (${data.percent}%) ${medalEmoji(data.percent)}${name}</div><div class=\"date\">${data.date}</div>`;
  }else{
    el.innerHTML = `<b>Solar System Battle</b><div>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡πà‡∏ô</div>`;
  }
}

function medalEmoji(p){ if(p===100) return 'ü•á'; if(p>=90) return 'ü•à'; if(p>=80) return 'ü•â'; return ''; }
function safeParse(s){ try{ return JSON.parse(s); }catch(e){ return null; } }
function escapeHTML(s){ return s.replace(/[&<>]/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;'}[c])); }
</script>
</body>
</html>
